# =============================================
# TekVwarho ProAudit - Railway Deployment
# =============================================
# 
# NOTE: For easiest deployment, use Railway's native GitHub integration:
# 1. Go to railway.app/dashboard
# 2. New Project → Deploy from GitHub repo
# 3. Select this repo - Railway auto-deploys on push
#
# This workflow is kept for manual/advanced deployments
# =============================================

name: Deploy to Railway

on:
  workflow_dispatch:  # Manual trigger only
    inputs:
      service_id:
        description: 'Railway Service ID (from Railway dashboard)'
        required: true
        type: string

jobs:
  deploy:
    name: Deploy to Railway
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      
      - name: Install Railway CLI
        run: npm install -g @railway/cli
      
      - name: Deploy to Railway
        env:
          RAILWAY_TOKEN: ${{ secrets.RAILWAY_SECRET_TOKEN }}
        run: railway up --service ${{ github.event.inputs.service_id }}
      
      - name: Notify deployment success
        if: success()
        run: echo "✅ Railway deployment successful!"
